<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>μ„ΈνΈ μ μ‘ μµμ  κ³„μ‚°κΈ°</title>
  <link rel="icon" href="abydos.png" type="image/png">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    label { display: block; margin-top: 10px; }
    input { width: 100%; padding: 5px; margin-top: 5px; }
    button { margin-top: 15px; padding: 10px 15px; font-size: 16px; }
    .result { margin-top: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
    .text-outline {
      text-shadow:
        -1px -1px 0 #000,
         1px -1px 0 #000,
        -1px  1px 0 #000,
         1px  1px 0 #000;
      font-weight: bold;
    }
    .abydos { color: #FF9800; } /* νλ€μƒ‰ */
    .premium { color: #4CAF50; } /* μ΄λ΅μƒ‰ */
    .normal { color: #FFFFFF; } /* κ²€μ •μƒ‰ */
    .lore { color: #D3D3D3; } /* κ²€μ •μƒ‰ */
  </style>
</head>
<body>
  <h1>μ„ΈνΈ μ μ‘ μµμ  κ³„μ‚°κΈ°</h1>

  <label>A (<span class="text-outline abydos">μ•„λΉ„λ„μ¤</span>) κ°μ<input type="number" id="a" value="164"></label>
  <label>B (<span class="text-outline premium">κ³ κΈ‰</span>) κ°μ<input type="number" id="b" value="2270"></label>
  <label>C (<span class="text-outline normal">μΌλ°</span>) κ°μ<input type="number" id="c" value="11410"></label>
  <label><span class="text-outline lore">Aν•„μ”λ‰</span><input type="number" id="a_req" value="33"></label>
  <label><span class="text-outline lore">Bν•„μ”λ‰</span><input type="number" id="b_req" value="45"></label>
  <label><span class="text-outline lore">Cν•„μ”λ‰</span><input type="number" id="c_req" value="86"></label>

  <button onclick="calculate()">κ³„μ‚°ν•κΈ°</button>

  <div class="result" id="result"></div>

  <script>
    function calculate() {
      let a = parseInt(document.getElementById('a').value);
      let b = parseInt(document.getElementById('b').value);
      let c = parseInt(document.getElementById('c').value);
      const A_REQ = parseInt(document.getElementById('a_req').value);
      const B_REQ = parseInt(document.getElementById('b_req').value);
      const C_REQ = parseInt(document.getElementById('c_req').value);
      let powder = 0;

      let b_to_powder = 0;
      let c_to_powder = 0;

      const getSetCounts = () => [
        Math.floor(a / A_REQ),
        Math.floor(b / B_REQ),
        Math.floor(c / C_REQ)
      ];

      const maxDiff = (sets) => Math.max(...sets) - Math.min(...sets);

      while (true) {
        const sets = getSetCounts();
        if (maxDiff(sets) <= 1) break;

        if (sets[1] >= sets[2] && b >= 50) {
          b -= 50;
          powder += 80;
          b_to_powder++;
        } else if (c >= 100) {
          c -= 100;
          powder += 80;
          c_to_powder++;
        } else {
          break;
        }

        if (powder >= 100) {
          const exchange = Math.floor(powder / 100);
          a += exchange * 10;
          powder -= exchange * 100;
        }
      }

      const [a_set, b_set, c_set] = getSetCounts();
      const final_sets = Math.min(a_set, b_set, c_set);

      document.getElementById("result").innerHTML = `
        <strong>β… μµλ€ μ„ΈνΈ μ:</strong> ${final_sets}<br>
        <strong>π“¦ μμ›:</strong><br>
        - <span class="text-outline abydos">μ•„λΉ„λ„μ¤</span> (A): ${a} (μ„ΈνΈ ${a_set})<br>
        - <span class="text-outline premium">κ³ κΈ‰</span> (B): ${b} (μ„ΈνΈ ${b_set})<br>
        - <span class="text-outline normal">μΌλ°</span> (C): ${c} (μ„ΈνΈ ${c_set})<br>
        - κ°€λ£¨: ${powder}<br><br>
        <strong>π” κ°€λ£¨ κµν™ νμ:</strong><br>
        - B β†’ κ°€λ£¨: ${b_to_powder}ν<br>
        - C β†’ κ°€λ£¨: ${c_to_powder}ν
      `;
    }
  </script>
</body>
</html>